import React from "react";
import { ArgTypes, Canvas, Meta, Controls } from "@storybook/blocks";
import { CodeBlock } from "./CodeBlock";
import * as CodeBlockStories from "./CodeBlock.stories";

<Meta of={CodeBlockStories} />

# CodeBlock

A `<CodeBlock />` wraps one or more `<CodeSnippet />`s to provide the user the ability to switch languages and copy code.

`<CodeBlock />` is a multi-part component. Use `<CodeBlock.Header />` and `<CodeBlock.Snippet />` to build the `<CodeBlock />`. `<CodeBlock.Snippet />` accepts all properties that `<CodeSnippet />` accepts. `<CodeBlock.Header />` and `<CodeBlock.Snippet />` should be direct children of `<CodeBlock />`. To reuse multiple snippets, enclose them in a function and invoke directly in render.

`<CodeBlock />` is a controlled component. It requires the consumer to provide a selected language and manage its state. Use the `language` and `onLanguageChange` props to control the currently active `<CodeSnippet />`.

```tsx
const [language, onLanguageChange] = useState("javascript");

<CodeBlock language={language} onLanguageChange={onLanguageChange}>
  <CodeBlock.Header color="neutral">Header title</CodeBlock.Header>
  <CodeBlock.Snippet language="javascript" code={``} />
  <CodeBlock.Snippet language="php" code={``} />
</CodeBlock>;
```

<Canvas of={CodeBlockStories.Default} />

## View only

If `<CodeBlock />` contains only one `<CodeBlock.Snippet />`, the `<CodeBlock />` will be in view only mode and not show a language selector.

<Canvas of={CodeBlockStories.ViewOnly} />

## Custom Header

`<CodeBlock.Header />` can be customized. It accepts a `color` property to change its color scheme, defaulting to `neutral`. Change the header's title by modifying the `children` prop.

<Canvas of={CodeBlockStories.CustomHeader} />

<Controls of={CodeBlockStories.CustomHeader} />

## Side by Side

Using `<HorizontalGrid />`, two `<CodeBlock />`'s can be placed side by side for a request-response pattern.

<Canvas of={CodeBlockStories.SideBySide} />

<Controls of={CodeBlockStories.SideBySide} />

## Properties

### CodeBlock

<ArgTypes of={CodeBlock} />

### CodeBlock.Header

<ArgTypes of={CodeBlock.Header} />

### CodeBlock.Snippet

<ArgTypes of={CodeBlock.Snippet} />
