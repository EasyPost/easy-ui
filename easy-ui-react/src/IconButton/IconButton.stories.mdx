import { Canvas, Meta, Story, ArgsTable } from "@storybook/addon-docs";
import ArrowBackIcon from "@easypost/easy-ui-icons/ArrowBack";
import AddIcon from "@easypost/easy-ui-icons/Add";
import {
  ButtonStoryDecorator,
  ButtonStoryOnDarkBackgroundDecorator,
} from "../Button/Button.stories.mdx";
import { createLabelledOptionsControl } from "../utilities/storybook";
import { IconButton } from "./IconButton";

<Meta
  title="Components/Button/IconButton"
  argTypes={{
    icon: createLabelledOptionsControl({
      ArrowBack: ArrowBackIcon,
      Add: AddIcon,
    }),
  }}
  component={IconButton}
/>

export const sharedIconButtonProps = {
  icon: ArrowBackIcon,
  accessibilityLabel: "Back",
};

export const Template = (args) => <IconButton {...args} />;

# IconButton

<Canvas>
  <Story name="Default" args={{ ...sharedIconButtonProps }}>
    {Template.bind({})}
  </Story>
</Canvas>

## Filled buttons

<Canvas>
  <Story name="FilledButtons" decorators={[ButtonStoryDecorator]}>
    <IconButton {...sharedIconButtonProps} />
    <IconButton color="secondary" {...sharedIconButtonProps} />
    <IconButton color="success" {...sharedIconButtonProps} />
    <IconButton color="warning" {...sharedIconButtonProps} />
    <IconButton color="neutral" {...sharedIconButtonProps} />
  </Story>
</Canvas>

## Outlined buttons

<Canvas>
  <Story name="OutlinedButtons" decorators={[ButtonStoryDecorator]}>
    <IconButton variant="outlined" {...sharedIconButtonProps} />
    <IconButton
      color="secondary"
      variant="outlined"
      {...sharedIconButtonProps}
    />
    <IconButton color="support" variant="outlined" {...sharedIconButtonProps} />
  </Story>
</Canvas>

## Inverse buttons

<Canvas>
  <Story
    name="InverseButton"
    decorators={[ButtonStoryOnDarkBackgroundDecorator]}
  >
    <IconButton color="inverse" variant="outlined" {...sharedIconButtonProps} />
  </Story>
</Canvas>

## Disabled buttons

<Canvas>
  <Story name="DisabledButtons" decorators={[ButtonStoryDecorator]}>
    <IconButton {...sharedIconButtonProps} isDisabled />
    <IconButton variant="outlined" {...sharedIconButtonProps} isDisabled />
  </Story>
</Canvas>

## Click event

<Canvas>
  <Story name="ClickEvent" decorators={[ButtonStoryDecorator]}>
    <IconButton {...sharedIconButtonProps} onPress={() => alert("clicked!")} />
  </Story>
</Canvas>

<ArgsTable story="Default" />
