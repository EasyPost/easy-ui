import React from "react";
import { ArgTypes, Canvas, Meta, Controls } from "@storybook/addon-docs/blocks";
import { Drawer, DrawerContainer } from "./Drawer";
import * as DrawerStories from "./Drawer.stories";

<Meta of={DrawerStories} />

# Drawer

A `Drawer` is a modal that stays on the side of the screen.

Use a `<Drawer />` when you want to capture information from the user as a part of a concentrated workflow without having them leave the parent page.

### Drawer architecture

`<Drawer />` is a compound component. Use `<Drawer.Trigger />`, `<Drawer />`, `<Drawer.Header />`, and `<Drawer.Body />` to construct a drawer. `Drawer` includes `Drawer.Banner`, `Drawer.BanneredContentArea`, `Drawer.StandaloneContentArea`, and `Drawer.CloseButton` for using preset Drawer patterns.

_Drawer example with banner and tabs:_

```tsx
<Drawer.Trigger>
  <Button>Open drawer</Button>
  <Drawer>
    <Drawer.Header>
      <Drawer.Banner>
        <VerticalStack gap="2">
          <HorizontalStack align="space-between" blockAlign="center">
            <Text variant="subtitle1">Subtitle:</Text>
            <Drawer.CloseButton />
          </HorizontalStack>
          <HorizontalStack align="space-between" blockAlign="center">
            <Drawer.Title weight="normal">Drawer Title</Drawer.Title>
            <Badge variant="danger">Status</Badge>
          </HorizontalStack>
        </VerticalStack>
      </Drawer.Banner>
      <TabNav aria-label="Drawer">
        <TabNav.Item href="/1" isCurrentPage>
          Tab 1
        </TabNav.Item>
        <TabNav.Item href="/2">Tab 2</TabNav.Item>
      </TabNav>
    </Drawer.Header>
    <Drawer.Body>
      <Drawer.StandaloneContentArea>
        <VerticalStack gap="2">
          <HorizontalStack align="space-between" blockAlign="center">
            <Drawer.Title>Drawer Title</Drawer.Title>
            <Drawer.CloseButton />
          </HorizontalStack>
          <div>Content</div>
        </VerticalStack>
      </Drawer.StandaloneContentArea>
    </Drawer.Body>
  </Drawer>
</Drawer.Trigger>
```

### Triggering the drawer

`<Drawer.Trigger />` must contain exactly two direct children.

The first child should be a trigger element, such as a `<Button />`, where the trigger events and appropriate accessibility attributes can be applied.

The second element must be a `<Drawer />`. If access to programmatically close the drawer inline is needed, a child with a function that has a close method and returns a `<Drawer />` (`(close) => <Drawer />`) can be passed as the second child instead of a `<Drawer />`.

Alternatively, a `<Drawer />` can be wrapped in a `<DrawerContainer />` to entirely control the triggering process. See the Custom Triggers story below.

### State management

By default, a `<Drawer />` manages its own open state.

It can be made to be a controlled component by using the `isOpen` and `onOpenChange` prop on `<Drawer.Trigger />`.

It can be made to open by default using the `defaultOpen` prop on `<Drawer.Trigger />`.

Use the `useDrawerTrigger()` hook inside a Drawer component to access the drawer state. Use the drawer trigger state to determine if the drawer `isOpen`. The drawer trigger state can also be used to programmatically `close()` the drawer.

### Focus containment

A `<Drawer />` traps focus until it's closed. When a drawer is closed, it returns focus to the element that triggered the drawer.

## Standalone Example

In its simplest form, a `<Drawer />` requires a triggering element and a `<Drawer />` that renders a body.

<Canvas of={DrawerStories.Standalone} />

## Banner and Tabs Example

A `<Drawer />` offers several components to customize the experience. This example uses all available components.

Refer to the property tables at the bottom of the page for full documentation.

<Canvas of={DrawerStories.BannerAndTabs} />

## Nondismissable

By default, `<Drawer />`s are dismissable, meaning a user can exit the drawer without performing an action. Exiting can be done by clicking on the underlay behind the drawer, pressing the `Esc` key, or clicking the close icon.

To override that behavior, set `isDismissable` to `false` on the `<Drawer.Trigger />`.

<Canvas of={DrawerStories.Nondismissable} />

<Controls of={DrawerStories.Nondismissable} />

## Custom Triggers

A `<Drawer />` can be wrapped in a `<DrawerContainer />` to entirely control the triggering process.

A `<DrawerContainer />` renders a single `<Drawer />` as a child. If no child is provided, the `<DrawerContainer />` renders itself as closed. Use the `onDismiss` prop to know when the drawer closes.

<Canvas of={DrawerStories.MenuTrigger} />

## Properties

### Drawer.Trigger

<ArgTypes of={Drawer.Trigger} />

### Drawer

<ArgTypes of={Drawer} />

### Drawer.Header

<ArgTypes of={Drawer.Header} />

### Drawer.Body

<ArgTypes of={Drawer.Body} />

### Drawer.Body

<ArgTypes of={Drawer.Body} />

### Drawer.Title

<ArgTypes of={Drawer.Title} />

### Drawer.Banner

<ArgTypes of={Drawer.Banner} />

### Drawer.BanneredContentArea

<ArgTypes of={Drawer.BanneredContentArea} />

### Drawer.StandaloneContentArea

<ArgTypes of={Drawer.StandaloneContentArea} />

### DrawerContainer

<ArgTypes of={DrawerContainer} />
