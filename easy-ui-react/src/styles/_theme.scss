@use "sass:map";
@use "sass:string";

@import "./common";

@mixin theme($name: "base") {
  @each $key, $value in $ezui-tokens {
    @if string.index($key, "theme-#{$name}-") == 1 {
      $property: string.slice($key, string.length("theme-#{$name}-") + 1);
      --ezui-#{$property}: var(--ezui-theme-#{$name}-#{$property});
    }
  }
}

:root {
  @include theme("base");
  @media (prefers-color-scheme: dark) {
    @include theme("dark");
  }
}
