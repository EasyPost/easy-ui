import React from "react";
import { Canvas, ArgTypes, Meta } from "@storybook/blocks";
import { SearchNav } from "./SearchNav";
import * as SearchNavStories from "./SearchNav.stories";

<Meta of={SearchNavStories} />

# SearchNav

A `SearchNav` is a navigation bar focused on handling dense information interactions.

The `SearchNav.LogoGroup` and `SearchNav.Logo` components are required.

On screen sizes between `640px` and `1024px`, `SearchNav.CTAGroup`, if applicable, collapses into a menu
where each `SearchNav.CTAItem` is transposed onto `Menu.Item`. The `key` provided is directly forwarded.

On screen sizes smaller than `640px`, `SearchNav.CTAGroup` and `SearchNav.Select`, if applicable, collapse into
a single menu where `SearchNav.CTAItem` and `SearchNav.Option` are respectively transposed onto `Menu.Item`.

The `menuOverlayProps` prop can be used to control menu interactions. Note, on screen sizes greater than `640px`,
`menuOverlayProps` has no bearing on `SearchNav.Select` since the data representation only collapses at screen sizes
less than `640px`.

## Simple

<Canvas of={SearchNavStories.Simple} />

## Selector

`SearchNav.Selector` can be controlled with `onSelectionChange`.

<Canvas of={SearchNavStories.Selector} />

## CTA

Each `CTA.Item` is implemented as a button and hence, can accept `onPress` and `href`.

<Canvas of={SearchNavStories.CTA} />

## Search

`SearchNav.Search` is unopinionated with respect to the search input itself.

<Canvas of={SearchNavStories.Search} />

## Full Bar

<Canvas of={SearchNavStories.FullBar} />

## Properties

### SearchNav

<ArgTypes of={SearchNav} />

```ts
export type SearchNavOverlayMenuProps<T> = {
  /** The item keys that are disabled. These items cannot be selected, focused, or otherwise interacted with. */
  disabledKeys?: Iterable<Key>;
  /** Handler that is called when an item is selected. */
  onAction?: (key: Key) => void;
  /** Handler that is called when the menu should close after selecting an item. */
  onClose?: () => void;
};
```

### SearchNav.LogoGroup

<ArgTypes of={SearchNav.LogoGroup} />

### SearchNav.Logo

<ArgTypes of={SearchNav.Logo} />

### SearchNav.Search

<ArgTypes of={SearchNav.Search} />

### SearchNav.CTAGroup

<ArgTypes of={SearchNav.CTAGroup} />

### SearchNav.CTAItem

<ArgTypes of={SearchNav.CTAItem} />

### SearchNav.Selector

```ts
export type SelectorProps<T> = {
  /**
   * Hidden label that applies to expanded <SearchNav.Select> and will
   * become aria-label to apply to <Menu.Section> when <SearchNav>
   * collapses.
   */
  label: string;
  /** Method that is called when the open state of the select field changes. */
  onOpenChange?: (isOpen: boolean) => void;
  /** Sets the open state of the select field. */
  isOpen?: boolean;
  /** The currently selected key in the collection (controlled). */
  selectedKey?: Key | null;
  /** The initial selected key in the collection (uncontrolled). */
  defaultSelectedKey?: Key;
  /** Handler that is called when the selection changes. */
  onSelectionChange?: (key: Key) => void;
  /** The contents of the collection. */
  children: CollectionChildren<T>;
  /** The option keys that are disabled. These options cannot be selected, focused, or otherwise interacted with. */
  disabledKeys?: Iterable<Key>;
};
```
