import React from "react";
import { Canvas, ArgTypes, Meta } from "@storybook/addon-docs/blocks";
import { SearchNav } from "./SearchNav";
import * as SearchNavStories from "./SearchNav.stories";

<Meta of={SearchNavStories} />

# SearchNav

A `SearchNav` is a navigation bar focused on handling dense information interactions.

The `SearchNav.LogoGroup` and `SearchNav.Logo` components are required.

On screen sizes between `640px` and `1024px`, `SearchNav.CTAGroup`, if applicable, collapses into a menu
where each `SearchNav.SecondaryCTAItem` is transposed onto `Menu.Item`. The `key` provided is directly forwarded.

On screen sizes smaller than `640px`, `SearchNav.CTAGroup` and `SearchNav.Select`, if applicable, collapse into
a single menu where `SearchNav.SecondaryCTAItem` and `SearchNav.Option` are respectively transposed onto `Menu.Item`.

The `menuOverlayProps` prop can be used to control menu interactions. Note, on screen sizes greater than `640px`,
`menuOverlayProps` has no bearing on `SearchNav.Select` since the data representation only collapses at screen sizes
less than `640px`.

## Simple

<Canvas of={SearchNavStories.Simple} />

## Title

<Canvas of={SearchNavStories.Title} />

## Selector

`SearchNav.Selector` can be controlled with `onSelectionChange`.

<Canvas of={SearchNavStories.Selector} />

## Secondary CTAs

`SearchNav.CTAGroup` can render multiple `SearchNav.SecondaryCTAItem` components

<Canvas of={SearchNavStories.SecondaryCTA} />

## Primary CTA

`SearchNav.CTAGroup` can render at **most** one `SearchNav.PrimaryCTAItem` component

<Canvas of={SearchNavStories.PrimaryCTA} />

## Search

`SearchNav.Search` is unopinionated with respect to the search input itself.

<Canvas of={SearchNavStories.Search} />

## Full Bar

<Canvas of={SearchNavStories.FullBar} />

## Preserve Logo on Small Screens

`<SearchNav />` can preserve its logo instead of collapsing to a menu on small screens by specifying `condensedBehavior="preserve-logo"`.

<Canvas of={SearchNavStories.PreserveLogoWhenCondensed} />

## Properties

### SearchNav

```ts
export type SearchNavProps<T> = {
  /**
   * Overlay props that apply to condensed menu configurations. Note that
   * the keys defined in <SearchNav> will be preserved.
   */
  menuOverlayProps?: SearchNavOverlayMenuProps<T>;
  /**
   * Symbol for collapsed CTA menu, symbol SVG source from @easypost/easy-ui-icons.
   */
  ctaMenuSymbol?: IconSymbol;
  /**
   * The children of the <SearchNav> element. Should render `<SearchNav.LogoGroup>`,
   * `<SearchNav.Search>`, and `<SearchNav.CTAGroup>`
   */
  children: ReactNode;
};

export type SearchNavOverlayMenuProps<T> = {
  /** The item keys that are disabled. These items cannot be selected, focused, or otherwise interacted with. */
  disabledKeys?: Iterable<Key>;
  /** Handler that is called when an item is selected. */
  onAction?: (key: Key) => void;
  /** Handler that is called when the menu should close after selecting an item. */
  onClose?: () => void;
};
```

### SearchNav.LogoGroup

<ArgTypes of={SearchNav.LogoGroup} />

### SearchNav.Logo

<ArgTypes of={SearchNav.Logo} />

### SearchNav.Title

<ArgTypes of={SearchNav.Title} />

### SearchNav.Search

<ArgTypes of={SearchNav.Search} />

### SearchNav.CTAGroup

<ArgTypes of={SearchNav.CTAGroup} />

### SearchNav.PrimaryCTAItem

<ArgTypes of={SearchNav.PrimaryCTAItem} />

### SearchNav.SecondaryCTAItem

<ArgTypes of={SearchNav.SecondaryCTAItem} />

### SearchNav.Selector

```ts
export type SelectorProps<T> = {
  /**
   * aria-label that applies to expanded <SearchNav.Select> and
   * to <Menu.Section> when <SearchNav> collapses.
   */
  "aria-label": string;
  /** Method that is called when the open state of the select field changes. */
  onOpenChange?: (isOpen: boolean) => void;
  /** Sets the open state of the select field. */
  isOpen?: boolean;
  /** The currently selected key in the collection (controlled). */
  selectedKey?: Key | null;
  /** The initial selected key in the collection (uncontrolled). */
  defaultSelectedKey?: Key;
  /** Handler that is called when the selection changes. */
  onSelectionChange?: (key: Key) => void;
  /** The contents of the collection. */
  children: CollectionChildren<T>;
  /** The option keys that are disabled. These options cannot be selected, focused, or otherwise interacted with. */
  disabledKeys?: Iterable<Key>;
};
```
