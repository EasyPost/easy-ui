import React from "react";
import { Canvas, Meta, Story, ArgsTable } from "@storybook/addon-docs";
import { createLabelledOptionsControl } from "../utilities/storybook";
import { Button } from "./Button";
import { Icon } from "../Icon";
import AddIcon from "@easypost/easy-ui-icons/Add";
import CheckCircleIcon from "@easypost/easy-ui-icons/CheckCircle";
import InfoIcon from "@easypost/easy-ui-icons/Info";
import ArrowBackIcon from "@easypost/easy-ui-icons/ArrowBack";

<Meta
  title="Components/Button/Button"
  argTypes={{
    iconAtStart: createLabelledOptionsControl({
      ArrowBack: ArrowBackIcon,
      Add: AddIcon,
    }),
    iconAtEnd: createLabelledOptionsControl({
      ArrowBack: ArrowBackIcon,
      Add: AddIcon,
    }),
    children: {
      control: "text",
    },
  }}
  component={Button}
/>

export const Template = (args) => <Button {...args} />;

export const buttonStoryStyles = {
  display: "flex",
  alignItems: "center",
  gap: "12px",
  flexWrap: "wrap",
};

export const buttonStoryOnDarkBackgroundStyles = {
  backgroundColor: "var(--ezui-color-blue-800)",
  padding: "12px",
};

export const ButtonStoryDecorator = (story) => (
  <div style={buttonStoryStyles}>{story()}</div>
);

export const ButtonStoryOnDarkBackgroundDecorator = (story) => (
  <div style={{ ...buttonStoryOnDarkBackgroundStyles, ...buttonStoryStyles }}>
    {story()}
  </div>
);

# Button

<Canvas>
  <Story name="Default" args={{}}>
    {Template.bind({})}
  </Story>
</Canvas>

## Filled buttons

<Canvas>
  <Story name="FilledButtons" decorators={[ButtonStoryDecorator]}>
    <Button />
    <Button color="secondary" />
    <Button color="success" />
    <Button color="warning" />
    <Button color="neutral" />
    <Button size="sm" />
    <Button color="secondary" size="sm" />
    <Button color="success" size="sm" />
    <Button color="warning" size="sm" />
    <Button color="neutral" size="sm" />
  </Story>
</Canvas>

## Outlined buttons

<Canvas>
  <Story name="OutlinedButtons" decorators={[ButtonStoryDecorator]}>
    <Button variant="outlined" />
    <Button color="secondary" variant="outlined" />
    <Button color="support" variant="outlined" />
    <Button variant="outlined" size="sm" />
    <Button color="secondary" variant="outlined" size="sm" />
    <Button color="support" variant="outlined" size="sm" />
  </Story>
</Canvas>

## Link buttons

<Canvas>
  <Story name="LinkButtons" decorators={[ButtonStoryDecorator]}>
    <Button variant="link" />
    <Button color="secondary" variant="link" />
  </Story>
</Canvas>

## Inverse buttons

<Canvas>
  <Story
    name="InverseButtons"
    decorators={[ButtonStoryOnDarkBackgroundDecorator]}
  >
    <Button color="inverse" variant="outlined" />
    <Button color="inverse" variant="outlined" size="sm" />
  </Story>
</Canvas>

## With href

<Canvas>
  <Story name="WithHref" decorators={[ButtonStoryDecorator]}>
    <Button href="https://www.easypost.com/" />
    <Button variant="outlined" href="https://www.easypost.com/" />
  </Story>
</Canvas>

## With icons

<Canvas>
  <Story name="WithIcons" decorators={[ButtonStoryDecorator]}>
    <Button iconAtEnd={CheckCircleIcon} />
    <Button color="neutral" iconAtEnd={AddIcon} />
    <Button color="success" iconAtStart={ArrowBackIcon} />
    <Button color="warning" iconAtStart={InfoIcon} />
  </Story>
</Canvas>

## Block button

<Canvas>
  <Story name="BlockButton" decorators={[ButtonStoryDecorator]}>
    <Button isBlock />
  </Story>
</Canvas>

## Disabled buttons

<Canvas>
  <Story name="DisabledButtons" decorators={[ButtonStoryDecorator]}>
    <Button isDisabled />
    <Button variant="outlined" isDisabled />
  </Story>
</Canvas>

## Click event

<Canvas>
  <Story name="ClickEvent" decorators={[ButtonStoryDecorator]}>
    <Button onPress={() => alert("clicked!")} />
  </Story>
</Canvas>

<ArgsTable story="Default" />
